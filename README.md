# hux-unified
Repository for hux unified

Component|Build|Version|CD|Docker Image
---------|---|---|---|---|
huxunifylib-database|[![Codefresh build status]( https://g.codefresh.io/api/badges/pipeline/deloittehux/Hux_Unified_Solution%2Funified_solution_library?type=cf-1&key=eyJhbGciOiJIUzI1NiJ9.NWRjMzBjMmJiMGVmMzJiNzkxM2Y2MGJh.GkhczDGoVzfrLnhTAn2b9yqwMQkP_wXNMhwGDPRPStQ)]( https://g.codefresh.io/pipelines/edit/new/builds?id=606bf0961ca52d74786e76ef&pipeline=unified_solution_library&projects=Hux_Unified_Solution&projectId=605a4546bfffd0aea1e243a0)| - | - | - | - |
huxunify-api|[![Codefresh build status]( https://g.codefresh.io/api/badges/pipeline/deloittehux/Hux_Unified_Solution%2Funified_solution_api_ci?type=cf-1&key=eyJhbGciOiJIUzI1NiJ9.NWRjMzBjMmJiMGVmMzJiNzkxM2Y2MGJh.GkhczDGoVzfrLnhTAn2b9yqwMQkP_wXNMhwGDPRPStQ)]( https://g.codefresh.io/pipelines/edit/new/builds?id=605a45789f86ae45939bfec3&pipeline=unified_solution_api_ci&projects=Hux_Unified_Solution&projectId=605a4546bfffd0aea1e243a0) | - | - | - | - |
huxunify-ui|[![Codefresh build status]( https://g.codefresh.io/api/badges/pipeline/deloittehux/Hux_Unified_Solution%2Funified_solution_ui_ci?type=cf-1&key=eyJhbGciOiJIUzI1NiJ9.NWRjMzBjMmJiMGVmMzJiNzkxM2Y2MGJh.GkhczDGoVzfrLnhTAn2b9yqwMQkP_wXNMhwGDPRPStQ)]( https://g.codefresh.io/pipelines/edit/new/builds?id=60658a58cefd71c868974159&pipeline=unified_solution_ui_ci&projects=Hux_Unified_Solution&projectId=605a4546bfffd0aea1e243a0) | - | - | - | - |
huxunify-cd|[![Codefresh build status]( https://g.codefresh.io/api/badges/pipeline/deloittehux/Hux_Unified_Solution%2Funified_solution_cd?type=cf-1&key=eyJhbGciOiJIUzI1NiJ9.NWRjMzBjMmJiMGVmMzJiNzkxM2Y2MGJh.GkhczDGoVzfrLnhTAn2b9yqwMQkP_wXNMhwGDPRPStQ)]( https://g.codefresh.io/pipelines/edit/new/builds?id=605c55329f86ae31179c045c&pipeline=unified_solution_cd&projects=Hux_Unified_Solution&projectId=605a4546bfffd0aea1e243a0) | - | - | - | - |
huxunify-scripts-ci|[![Codefresh build status]( https://g.codefresh.io/api/badges/pipeline/deloittehux/Hux_Unified_Solution%2Funified_solution_scripts_ci?type=cf-1&key=eyJhbGciOiJIUzI1NiJ9.NWRjMzBjMmJiMGVmMzJiNzkxM2Y2MGJh.GkhczDGoVzfrLnhTAn2b9yqwMQkP_wXNMhwGDPRPStQ)]( https://g.codefresh.io/pipelines/edit/new/builds?id=60eebd2127251f965005f666&pipeline=unified_solution_scripts_ci&projects=Hux_Unified_Solution&projectId=605a4546bfffd0aea1e243a0) | - | - | - | - |
customer-profile-api|[![Codefresh build status](https://g.codefresh.io/api/badges/pipeline/deloittehux/HXP_CDM%2Fcustomer_profile_api_ci?key=eyJhbGciOiJIUzI1NiJ9.NWRjMzBjMmJiMGVmMzJiNzkxM2Y2MGJh.GkhczDGoVzfrLnhTAn2b9yqwMQkP_wXNMhwGDPRPStQ&date=1628594544780)](https://g.codefresh.io/pipelines/edit/new/builds?id=608adc2ade28641bed60176a&pipeline=customer_profile_api_ci&projects=HXP_CDM&projectId=6036b45b3bb11c75ac85caad)| - | - | -

# Environments
Hux unified solutions and other dependent environment URLs

Component|Dev URL| Stage URL | RC1 URL | Prod URL |
---------|----------|----------|---------|----------|
Hux Unified UI|[https://unified-ui-dev.main.use1.hux-unified-dev1.in/](https://unified-ui-dev.main.use1.hux-unified-dev1.in/)|[https://unified-ui.main.use1.hux-unified-stg1.in/](https://unified-ui.main.use1.hux-unified-stg1.in/)|[https://unified-ui.main.use1.hux-unified-rc1.in/](https://unified-ui.main.use1.hux-unified-rc1.in/)| - |
Hux Unified API|[https://unified-api-dev.main.use1.hux-unified-dev1.in/api/v1/ui/](https://unified-api-dev.main.use1.hux-unified-dev1.in/api/v1/ui/)|[https://unified-api.main.use1.hux-unified-stg1.in/api/v1/ui/](https://unified-api.main.use1.hux-unified-stg1.in/api/v1/ui/)|[https://unified-api.main.use1.hux-unified-rc1.in/api/v1/ui/](https://unified-api.main.use1.hux-unified-rc1.in/api/v1/ui/)| - |
CDM API|[https://customer-profile-api.main.use1.hux-unified-dev1.in/docs#/](https://customer-profile-api.main.use1.hux-unified-dev1.in/docs#/)|[https://customer-profile-api.main.use1.hux-unified-stg1.in/docs#/](https://customer-profile-api.main.use1.hux-unified-stg1.in/docs#/)|[https://customer-profile-api.main.use1.hux-unified-rc1.in/docs#/](https://customer-profile-api.main.use1.hux-unified-rc1.in/docs#/)| - |
Tecton|[http://decisioning-client.tecton.ai/](http://decisioning-client.tecton.ai/)|[https://decisioning-client.tecton.ai/](https://decisioning-client.tecton.ai/)|[https://decisioning-client.tecton.ai/](https://decisioning-client.tecton.ai/)|[https://decisioning-client.tecton.ai/](https://decisioning-client.tecton.ai/)|
Grafana|[https://grafana.hux-unified-dev1.in/](https://grafana.hux-unified-dev1.in/)|[https://grafana.hux-unified-stg1.in/](https://grafana.hux-unified-stg1.in/)|[https://grafana.hux-unified-rc1.in/](https://grafana.hux-unified-rc1.in/)|[https://grafana.hux-decisioning.in/](https://grafana.hux-decisioning.in/)|
Prometheus| - | - | - | - |

## Introduction (Project Justice League)
Create a unified project platform.
![image](https://user-images.githubusercontent.com/20735170/114725970-303d1a80-9cfa-11eb-870f-e36d0588b8a3.png)


## Table of Contents
* [Technologies](#Technologies)
* [Structure](#Structure)
* [Add pre-commit git hooks](#Add-pre-commit-githooks)
* [TOX](#TOX)
* [CI](#CI)
* [CD](#CD)


## Technologies
* API
    * Python 3.7 (Flask)
* Frontend
    * Vue 2
* Database
    * MongoDB


## Structure
* [documents](docs/README.rst)
* [api](hux/api/README.md)
* [frontend](hux/frontend/README.md)
* [library](lib/README.md)
    * [database](lib/huxunifylib/README.md)


# Add pre-commit git hooks

Steps

1. Install pre-commit:`pip install pre-commit` in a virtualenv.
2. Define `.pre-commit-config.yaml` with the hooks you want to include. If you already have it, you can skip this step.
3. Execute `pre-commit install` to install git hooks in your `.git/hooks` directory.

Note: In case there are changes in the `.pre-commit-config.yaml`, it is a good idea to run `pre-commit clean`.

Every time you try to commit, checks in the pre-commit hook will run and you will not be allowed to commit if there are any errors.
You can also run `pre-commit run` to make sure there are no errors before comitting your code.

For more info, refer https://pre-commit.com/.


# TOX
tox (https://tox.readthedocs.io/) is a tool for running tests in multiple virtualenvs.
TOX configuration files (tox.ini) will run the scripted tests and commands listed within.

Steps

1. Install tox:`pip install tox` in a virtualenv.
2. Using the console, cd to the directory you want to test that contains a tox.ini
3. Run `tox`


# CI
CI is defined in the ci subdirectory for each component, *e.g.* hux/api/ci/. The README.md file in those directories describes the method for setting up the pipelines and triggers.

# CD
The CD is provided by ArgoCD agents running in each target Kubernetes cluster. These agents monitor values files in the unified-deploy repository for the their cluster and make appropriate changes. Successful CI pipelines update these values files.
